---
title: react
categories: react
tags: react框架
---

## react基础

### 一、react特点

1. 采用组件化模式、声明式编码，提高开发效率及组件复用率
2. 在React Native中可以使用React语法进行移动端开发
3. 使用虚拟DOM+Diffing算法，尽量减少与真实DOM的交互

### 二、需要掌握的js知识

判断this指向

class（类）

ES6语法规范

npm包管理器

原型、原型链

数组常用方法

模块化

### 三、虚拟DOM与真实DOM

1. React提供了一些API来创建一种 “特别” 的一般js对象

   ```html
   const VOM = React.createElement('xx',{id: 'xx'}, 'xx')
   ```

   

2.  虚拟DOM对象最终都会被React转换为真实的DOM



### 四、JSX

全称：JavaScript XML

用来简化创建虚拟DOM

便签名任意，属性任意，

基本语法规则：
```ts
1、 遇到 <开头的代码, 以标签的语法解析: html同名标签转换为html同名元素, 其它标签需要特别解析

2、 遇到以 '{' 开头的代码，以JS语法解析: 标签中的js表达式必须用{ }包含

babel.js的作用

1.浏览器不能直接解析JSX代码，需要babel转义为纯js的代码才能运行

2、只要用了JSX ，都要加上type=“text/babel”，声明需要babel来处理



JSX语法规则
1、定义虚拟DOM时，不要写引号
2、标签中混入JS表达式时要用{}
3、样式类名指定不要用class，要用className
4、内联样式，要用style={{key:value}}的形式去写
5、只有一个根标签
6、标签必须闭合
7、标签首字母
（1）、若小写字母开头，则将标签转为html中同名元素，若html中元素无该标签对应的同名元素，则报错。
​	(2)、若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。

```


`注意区分：【js语句（代码）】与【js表达式】`

​	1、表达式： 一个表达式会产生一个值，可以放在任何一个需要值的地方

例如：
```ts
- a

- a+b

- demo(1)

- arr.map()

- function test () {}

  2、语句（代码）：

例如：

- if()
- for()
- switch(){case:xxx}
```
### 五、模块与组件

#### 1）、模块

作用：复用js，简化js的编写，提高js运行效率

模块化：当应用的js都以模块来编写的，这个应用就是一个模块化的作用

#### 2）、组件

作用： 复用编码，简化项目编写，提高运行效率

组件化：当应用是以多组件的方式实现，这个应用就是一个组件化 的应用

### 六、React面向组件编程

#### 函数式组件

#### 类组件

类的基本知识

1、类中的构造器不是必须要写的，要对实例进行一些初始化的操作，如添加指定属性的时才写。

2、如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的。

3、类中所定义的方法，都放在了类的原型对象上，供实例去使用。


> 执行ReactDom.render(<MyComponent/>)...之后，发生了什么？
>
> 1. React解析组件标签，找到MyComponent组件。
> 2. 发现组价是使用类定义的，随后new出来该类的实例，并通过该实例调用原型上的reader函数
> 3. 将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。

组件实例的三大属性：

1. state
2. props
3. refs

对props进行限制

通过propTypes来对标签属性进行类型，必要性的限制

通过defaultProps来指定标签属性值



函数组件可以使用props，因为函数可以传入参数，props可以当做参数传入，

#### ref有两种形式

1、 字符串形式，旧版

2、回调函数形式

